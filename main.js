(()=>{"use strict";var e={935:(e,t,r)=>{r.d(t,{Z:()=>A});var s=r(81),n=r.n(s),o=r(645),i=r.n(o),a=r(667),h=r.n(a),d=new URL(r(664),r.b),l=new URL(r(864),r.b),c=new URL(r(364),r.b),f=new URL(r(331),r.b),p=new URL(r(707),r.b),u=new URL(r(203),r.b),y=new URL(r(309),r.b),b=new URL(r(662),r.b),m=i()(n()),g=h()(d),w=h()(l),x=h()(c),S=h()(f),K=h()(p),C=h()(u),k=h()(y),v=h()(b);m.push([e.id,'@font-face {\r\n    font-family: "Arial";\r\n    font-weight: bold;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Arial Bold"),\r\n         local("Arial Полужирный"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+g+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+w+') format("woff");\r\n    font-display: swap;\r\n}\r\n\r\n@font-face {\r\n    font-family: "Arial Narrow";\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Arial Narrow"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+x+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+S+') format("woff");\r\n    font-display: swap;\r\n}\r\n\r\n@font-face {\r\n    font-family: "Arial Narrow";\r\n    font-weight: bold;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Arial Narrow Bold"),\r\n         local("Arial Narrow Полужирный"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+K+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+C+') format("woff");\r\n    font-display: swap;\r\n}\r\n\r\n@font-face {\r\n    font-family: "Arial";\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Arial"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+k+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+v+') format("woff");\r\n    font-display: swap;\r\n}\r\n',""]);const A=m},410:(e,t,r)=>{r.d(t,{Z:()=>g});var s=r(81),n=r.n(s),o=r(645),i=r.n(o),a=r(667),h=r.n(a),d=new URL(r(683),r.b),l=new URL(r(736),r.b),c=new URL(r(376),r.b),f=new URL(r(678),r.b),p=i()(n()),u=h()(d),y=h()(l),b=h()(c),m=h()(f);p.push([e.id,'@font-face {\r\n    font-family: "Georgia";\r\n    font-weight: bold;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Georgia Bold"),\r\n         local("Georgia Полужирный"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+u+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+y+') format("woff");\r\n    font-display: swap;\r\n}\r\n\r\n@font-face {\r\n    font-family: "Georgia";\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    /* Браузер сначала попробует найти шрифт локально */\r\n    src: local("Georgia"),\r\n    /* Если не получилось, загрузит woff2 */\r\n         url('+b+') format("woff2"),\r\n    /* Если браузер не поддерживает woff2, загрузит woff */\r\n         url('+m+') format("woff");\r\n    font-display: swap;\r\n}\r\n',""]);const g=p},890:(e,t,r)=>{r.d(t,{Z:()=>f});var s=r(81),n=r.n(s),o=r(645),i=r.n(o),a=r(667),h=r.n(a),d=new URL(r(631),r.b),l=i()(n()),c=h()(d);l.push([e.id,'/*=====================================================================\r\n               Project Virtual keyboard\r\n=====================================================================*/\r\n\r\nhtml {\r\n    box-sizing: border-box;\r\n    height: 100vh;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    font-family: "Arial", sans-serif;\r\n    font-size: 16px;\r\n    word-break: break-word;\r\n    color: #2f2f2f;\r\n}\r\n\r\nh1 {\r\n    font-family: "Georgia", serif;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 130%;\r\n    font-size: 2.75em;\r\n    text-align: center;\r\n    color: #2f2f2f;\r\n    margin: 2% auto 0 auto;\r\n    padding: 0;\r\n}\r\n\r\np {\r\n    font-family: "Georgia", serif;\r\n    line-height: 160%;\r\n    font-size: 0.938em;\r\n    text-align: center;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.textarea-wrapper {\r\n    box-sizing: border-box;\r\n    max-width: 1070px;\r\n    text-align: center;\r\n}\r\n\r\ntextarea {\r\n    margin: 2% 0;\r\n    padding: 0.935%;\r\n    width: 97%;\r\n    min-height: 15vh;\r\n    font-family: monospace;\r\n    background-color: #fff;\r\n    border: 2px solid #8b8a8b;\r\n    border-radius: 5px;\r\n    transition: 180ms box-shadow ease-in-out;\r\n}\r\n\r\ntextarea:focus {\r\n    border-color: hsl(152, 79%, 65%);\r\n    box-shadow: 0 0 0 3px hsla(152, 79%, 90%, .8);\r\n    outline: 3px solid transparent;\r\n}\r\n\r\n.virtual-keyboard {\r\n    max-width: 910px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.wrapper {\r\n    width: 100%;\r\n    user-select: none;\r\n    outline: none;\r\n    margin-bottom: 2%;\r\n}\r\n\r\n.keyboard {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 10px;\r\n    box-shadow: inset 4px 4px 4px rgba(0,0,0,.02),0 0 20px -8px rgba(0,0,0,.1);\r\n    -webkit-box-shadow: inset 4px 4px 4px rgba(0,0,0,.02),0 0 20px -8px rgba(0,0,0,.1);\r\n    background: linear-gradient(to right bottom,#e5e5e5,#e6e6e6,#e7e7e7,#e7e7e7,#e8e8e8);\r\n    background: #e5e5e5;\r\n    border-radius: 10px;\r\n}\r\n\r\n.row {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    width: 100%;\r\n    position: relative;\r\n}\r\n\r\n.row-top {\r\n    margin: 0 0 5px 0;\r\n    padding: 0 0 5px 0;\r\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\r\n}\r\n\r\n.key {\r\n    color: #8f8f8f;\r\n    text-shadow: 0 0 1px rgba(0,0,0,.2);\r\n    background: #fafafa;\r\n    box-shadow: 0 4px 6px .06px rgba(0,0,0,.05);\r\n    user-select: none;\r\n    position: relative;\r\n    transition: all .2s ease-in-out;\r\n    transform-origin: bottom center;\r\n    cursor: pointer;\r\n    line-height: 1;\r\n    max-width: 2.5%;\r\n    height: 1.5vh;\r\n    margin: 4px 4px 6px 4px;\r\n    padding: 12px 12px 22px 12px;\r\n    border-radius: 8px;\r\n    border: 2px solid rgba(255,255,255,.04);\r\n    border-bottom-color: rgba(255,255,255,.1);\r\n    border-bottom-width: 4px;\r\n    flex: 1 1 100%;\r\n    display: inline-flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    justify-content: flex-start;\r\n    text-align: left;\r\n    font-size: 0.8125em;\r\n}\r\n\r\n.key::after {\r\n    content: "";\r\n    position: absolute;\r\n    left: 0;\r\n    top: -5px;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: calc(100% - 5px);\r\n    background: rgba(255,255,255,.1);\r\n    box-shadow: 0 5px 15px -10px rgba(0,0,0,.4);\r\n    margin: auto;\r\n    border-radius: inherit;\r\n    border: 4px solid rgba(0,0,0,.06);\r\n    border-top-color: rgba(0,0,0,.02);\r\n    border-bottom-color: transparent;\r\n    box-sizing: border-box;\r\n    border-top-width: 2px;\r\n    border-bottom-width: 6px;\r\n}\r\n\r\n.key:hover {\r\n    transform: scaleY(.98) translateY(1px);\r\n    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, .25);\r\n}\r\n\r\n.key-capslock {\r\n    max-width: 8%;\r\n}\r\n\r\n.key-backspace,\r\n.key-shiftleft {\r\n    max-width: 10.8%;\r\n}\r\n\r\n.key-enter {\r\n    max-width: 11.84%;\r\n}\r\n\r\n.key-controlright,\r\n.key-controlleft {\r\n    max-width: 7%;\r\n}\r\n\r\n.key-tab {\r\n    max-width: 4.32%;\r\n}\r\n\r\n.key-space {\r\n    max-width: 34.5%;\r\n}\r\n\r\n.key-metaleft {\r\n    align-items: center;\r\n    background-image: url('+c+");\r\n    background-repeat: no-repeat;\r\n    background-position: top center;\r\n    background-size: 60%;\r\n}\r\n\r\n.press {\r\n    transform: scaleY(.98) translateY(1px);\r\n    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, .35);\r\n }",""]);const f=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",s=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),s&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),s&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,s,n,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(i[h]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);s&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),t.push(l))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,s=0;s<t.length;s++)if(t[s].identifier===e){r=s;break}return r}function s(e,s){for(var o={},i=[],a=0;a<e.length;a++){var h=e[a],d=s.base?h[0]+s.base:h[0],l=o[d]||0,c="".concat(d," ").concat(l);o[d]=l+1;var f=r(c),p={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var u=n(p,s);s.byIndex=a,t.splice(a,0,{identifier:c,updater:u,references:1})}i.push(c)}return i}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var o=s(e=e||[],n=n||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var a=r(o[i]);t[a].references--}for(var h=s(e,n),d=0;d<o.length;d++){var l=r(o[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=h}}},569:e=>{var t={};e.exports=function(e,r){var s=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var s="";r.supports&&(s+="@supports (".concat(r.supports,") {")),r.media&&(s+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(s+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),s+=r.css,n&&(s+="}"),r.media&&(s+="}"),r.supports&&(s+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},864:(e,t,r)=>{e.exports=r.p+"0f72496113227f9e3079.woff"},664:(e,t,r)=>{e.exports=r.p+"64cdc6e996af77f4f45c.woff2"},662:(e,t,r)=>{e.exports=r.p+"e4af816a9a4fe4df98eb.woff"},309:(e,t,r)=>{e.exports=r.p+"2f06d009f5f28857ce09.woff2"},203:(e,t,r)=>{e.exports=r.p+"cef20d211c88c2f3cf38.woff"},707:(e,t,r)=>{e.exports=r.p+"7e5ffa39457d8e86f465.woff2"},331:(e,t,r)=>{e.exports=r.p+"17fe0ff5b2b79cd21806.woff"},364:(e,t,r)=>{e.exports=r.p+"4a44e9e3bc91c9f482a6.woff2"},736:(e,t,r)=>{e.exports=r.p+"9867679f13d350bc9b02.woff"},683:(e,t,r)=>{e.exports=r.p+"f5911eb3d3bdbe54c2c8.woff2"},678:(e,t,r)=>{e.exports=r.p+"4a67c51c9316292c012b.woff"},376:(e,t,r)=>{e.exports=r.p+"c5d4e07a47234f2ac20c.woff2"},631:(e,t,r)=>{e.exports=r.p+"0eef7cbec8b312e4878c.svg"}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={id:s,exports:{}};return e[s](o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="/dist/",r.b=document.baseURI||self.location.href,(()=>{var e=r(379),t=r.n(e),s=r(795),n=r.n(s),o=r(569),i=r.n(o),a=r(565),h=r.n(a),d=r(216),l=r.n(d),c=r(589),f=r.n(c),p=r(890),u={};u.styleTagTransform=f(),u.setAttributes=h(),u.insert=i().bind(null,"head"),u.domAPI=n(),u.insertStyleElement=l(),t()(p.Z,u),p.Z&&p.Z.locals&&p.Z.locals;var y=r(935),b={};b.styleTagTransform=f(),b.setAttributes=h(),b.insert=i().bind(null,"head"),b.domAPI=n(),b.insertStyleElement=l(),t()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var m=r(410),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=i().bind(null,"head"),g.domAPI=n(),g.insertStyleElement=l(),t()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;class w{constructor(e,t="div",r="",s="",n=!0){const o=document.createElement(t);o.className=r,o.innerHTML=s,this.node=o,n?e.append(o):e.prepend(o)}}const x=JSON.parse('[[{"code":"Backquote","type":"Symbol","shift":{"en":"~","ru":"Ё"},"default":{"en":"`","ru":"ё"}},{"code":"Digit1","type":"Symbol","shift":{"en":"!"},"default":{"en":"1"}},{"code":"Digit2","type":"Symbol","shift":{"en":"@","ru":"\\""},"default":{"en":"2"}},{"code":"Digit3","type":"Symbol","shift":{"en":"#","ru":"№"},"default":{"en":"3"}},{"code":"Digit4","type":"Symbol","shift":{"en":"$","ru":";"},"default":{"en":"4"}},{"code":"Digit5","type":"Symbol","shift":{"en":"%"},"default":{"en":"5"}},{"code":"Digit6","type":"Symbol","shift":{"en":"^","ru":":"},"default":{"en":"6"}},{"code":"Digit7","type":"Symbol","shift":{"en":"&","ru":"?"},"default":{"en":"7"}},{"code":"Digit8","type":"Symbol","shift":{"en":"*"},"default":{"en":"8"}},{"code":"Digit9","type":"Symbol","shift":{"en":"("},"default":{"en":"9"}},{"code":"Digit0","type":"Symbol","shift":{"en":")"},"default":{"en":"0"}},{"code":"Minus","type":"Symbol","shift":{"en":"_"},"default":{"en":"-"}},{"code":"Equal","type":"Symbol","shift":{"en":"+"},"default":{"en":"="}},{"code":"Backspace","type":"Function","default":"Backspace ⌫"}],[{"code":"Tab","type":"Function","default":"Tab ↹"},{"code":"KeyQ","type":"Symbol","default":{"en":"q","ru":"й"}},{"code":"KeyW","type":"Symbol","default":{"en":"w","ru":"ц"}},{"code":"KeyE","type":"Symbol","default":{"en":"e","ru":"у"}},{"code":"KeyR","type":"Symbol","default":{"en":"r","ru":"к"}},{"code":"KeyT","type":"Symbol","default":{"en":"t","ru":"е"}},{"code":"KeyY","type":"Symbol","default":{"en":"y","ru":"н"}},{"code":"KeyU","type":"Symbol","default":{"en":"u","ru":"г"}},{"code":"KeyI","type":"Symbol","default":{"en":"i","ru":"ш"}},{"code":"KeyO","type":"Symbol","default":{"en":"o","ru":"щ"}},{"code":"KeyP","type":"Symbol","default":{"en":"p","ru":"з"}},{"code":"BracketLeft","type":"Symbol","shift":{"en":"{"},"default":{"en":"[","ru":"х"}},{"code":"BracketRight","type":"Symbol","shift":{"en":"}"},"default":{"en":"]","ru":"ъ"}},{"code":"Backslash","type":"Symbol","shift":{"en":"|","ru":"/"},"default":{"en":"\\\\","ru":"\\\\"}},{"code":"Delete","type":"Function","default":"Del"}],[{"code":"CapsLock","type":"Function","default":"CapsLock ⇪"},{"code":"KeyA","type":"Symbol","default":{"en":"a","ru":"ф"}},{"code":"KeyS","type":"Symbol","default":{"en":"s","ru":"ы"}},{"code":"KeyD","type":"Symbol","default":{"en":"d","ru":"в"}},{"code":"KeyF","type":"Symbol","default":{"en":"f","ru":"а"}},{"code":"KeyG","type":"Symbol","default":{"en":"g","ru":"п"}},{"code":"KeyH","type":"Symbol","default":{"en":"h","ru":"р"}},{"code":"KeyJ","type":"Symbol","default":{"en":"j","ru":"о"}},{"code":"KeyK","type":"Symbol","default":{"en":"k","ru":"л"}},{"code":"KeyL","type":"Symbol","default":{"en":"l","ru":"д"}},{"code":"Semicolon","type":"Symbol","shift":{"en":":"},"default":{"en":";","ru":"ж"}},{"code":"Quote","type":"Symbol","shift":{"en":"\\""},"default":{"en":"\'","ru":"э"}},{"code":"Enter","type":"Function","default":"Enter ↵"}],[{"code":"ShiftLeft","type":"Function","default":"⇧ Shift"},{"code":"Backslash","type":"Symbol","shift":{"en":"|","ru":"/"},"default":{"en":"\\\\","ru":"\\\\"}},{"code":"KeyZ","type":"Symbol","default":{"en":"z","ru":"я"}},{"code":"KeyX","type":"Symbol","default":{"en":"x","ru":"ч"}},{"code":"KeyC","type":"Symbol","default":{"en":"c","ru":"с"}},{"code":"KeyV","type":"Symbol","default":{"en":"v","ru":"м"}},{"code":"KeyB","type":"Symbol","default":{"en":"b","ru":"и"}},{"code":"KeyN","type":"Symbol","default":{"en":"n","ru":"т"}},{"code":"KeyM","type":"Symbol","default":{"en":"m","ru":"ь"}},{"code":"Comma","type":"Symbol","shift":{"en":"<"},"default":{"en":",","ru":"б"}},{"code":"Period","type":"Symbol","shift":{"en":">"},"default":{"en":".","ru":"ю"}},{"code":"Slash","type":"Symbol","shift":{"en":"?","ru":","},"default":{"en":"/","ru":"."}},{"code":"ArrowUp","type":"Function","default":"↑"},{"code":"ShiftRight","type":"Function","default":"⇧"}],[{"code":"ControlLeft","type":"Function","default":"Ctrl"},{"code":"MetaLeft","type":"Function","default":""},{"code":"AltLeft","type":"Function","default":"Alt"},{"code":"Space","type":"Function","default":""},{"code":"AltRight","type":"Function","default":"Alt"},{"code":"ControlRight","type":"Function","default":"Ctrl"},{"code":"ArrowLeft","type":"Function","default":"←"},{"code":"ArrowDown","type":"Function","default":"↓"},{"code":"ArrowRight","type":"Function","default":"→"}]]');class S extends w{constructor(e,t,r){super(e,"div",t),this.code=r,this.onKey=()=>{},this.node.onmousedown=()=>{this.onKey()}}}class K extends S{constructor(e,t,r){super(e,"key",t),this.node.textContent=r,this.node.className=`${this.node.className} key-${t.toLowerCase()}`}}class C extends S{constructor(e,t,r,s,n){super(e,"key",t),this.defaultValue=r,this.shiftValue=s,this.lang=n,this.defaultValue[`${this.lang}`]?this.node.textContent=this.defaultValue[`${this.lang}`]:this.node.textContent=this.defaultValue.en}getSymbol(){return this.node.textContent}caps(e){this.isCaps=e,this.isCaps||this.isShift?this.node.textContent=this.node.textContent.toUpperCase():this.node.textContent=this.node.textContent.toLowerCase()}shift(e){this.isShift=e,this.isShift?this.shiftValue?this.shiftValue[`${this.lang}`]?this.node.textContent=this.shiftValue[`${this.lang}`].toUpperCase():this.defaultValue[`${this.lang}`]?this.node.textContent=this.defaultValue[`${this.lang}`].toUpperCase():this.node.textContent=this.shiftValue.en:this.defaultValue[`${this.lang}`]?this.node.textContent=this.defaultValue[`${this.lang}`].toUpperCase():this.node.textContent=this.defaultValue.en.toUpperCase():this.isCaps?this.defaultValue[`${this.lang}`]?this.node.textContent=this.defaultValue[`${this.lang}`].toUpperCase():this.node.textContent=this.defaultValue.en.toUpperCase():this.defaultValue[`${this.lang}`]?this.node.textContent=this.defaultValue[`${this.lang}`]:this.node.textContent=this.defaultValue.en}switchLang(e){this.lang=e,this.node.textContent=this.defaultValue[`${e}`]||this.defaultValue.en,this.isShift&&this.shift(this.isShift),this.isCaps&&this.caps(this.isCaps)}}class k extends w{constructor(e,t,r){super(e,"div",t);const s=new w(this.node,"div","keyboard");this.rows=[new w(s.node,"div","row row-top"),new w(s.node,"div","row row-middle"),new w(s.node,"div","row row-middle"),new w(s.node,"div","row row-middle"),new w(s.node,"div","row row-bottom")],this.lang=r,this.renderKeyboard()}renderKeyboard(){this.keyList=[],x.forEach(((e,t)=>{e.forEach((e=>{"Symbol"===e.type?this.keyList.push(new C(this.rows[t].node,e.code,e.default,e.shift,this.lang)):this.keyList.push(new K(this.rows[t].node,e.code,e.default))}))})),this.onKeys()}onKeys(){this.keyList.forEach((e=>{const t=e;t.onKey=()=>{this.pressKey=t,this.isPress=!0}}))}setPressKey(e){this.pressKey=this.keyList.find((t=>t.code===e.code)),this.isPress=!0}getPressKey(){const e=this.isPress?this.pressKey:null;return this.isPress=!1,e}onCapsLock(e){this.keyList.forEach((t=>{t.caps&&t.caps(e)}))}onShift(e){this.keyList.forEach((t=>{t.shift&&t.shift(e)}))}onMark(e){e&&(this.markKey=this.keyList.find((t=>t.code===e.code))||null,this.markKey&&this.markKey.node.classList.add("press"))}offMark(e){e&&(this.markKey=this.keyList.find((t=>t.code===e.code))||null,this.markKey&&this.markKey.node.classList.remove("press"))}switchLang(e){this.keyList.forEach((t=>{t.switchLang&&t.switchLang(e)}))}resetKeyboard(){this.keyList.forEach((e=>{this.offMark(e)}))}}class v extends w{constructor(e,t){super(e,"textarea",t),document.querySelector("textarea").setAttribute("placeholder","Type the text..."),document.querySelector("textarea").focus()}getCursorData(){const e=this.node.selectionStart,t=this.node.selectionEnd;return{cursorStart:e,cursorEnd:t,beforeCursor:this.node.value.slice(0,e),afterCursor:this.node.value.slice(t)}}printSymbol(e){const{beforeCursor:t,afterCursor:r}=this.getCursorData();let{cursorStart:s}=this.getCursorData();this.node.value=t+e+r,s+=1,this.node.setSelectionRange(s,s)}backspace(){const{cursorEnd:e,beforeCursor:t,afterCursor:r}=this.getCursorData();let{cursorStart:s}=this.getCursorData();s===e?s>0&&(this.node.value=t.slice(0,t.length-1)+r,s-=1):this.node.value=t+r,this.node.setSelectionRange(s,s)}delete(){const{cursorStart:e,cursorEnd:t,beforeCursor:r,afterCursor:s}=this.getCursorData();this.node.value=e===t?r+s.slice(1):r+s,this.node.setSelectionRange(e,e)}tab(){const{beforeCursor:e,afterCursor:t}=this.getCursorData();let{cursorStart:r}=this.getCursorData();this.node.value=`${e}\t${t}`,r+=1,this.node.setSelectionRange(r,r)}space(){const{beforeCursor:e,afterCursor:t}=this.getCursorData();let{cursorStart:r}=this.getCursorData();this.node.value=`${e} ${t}`,r+=1,this.node.setSelectionRange(r,r)}enter(){const{beforeCursor:e,afterCursor:t}=this.getCursorData();let{cursorStart:r}=this.getCursorData();this.node.value=`${e}\n${t}`,r+=1,this.node.setSelectionRange(r,r)}arrowRight(){let{cursorStart:e}=this.getCursorData();e+=1,this.node.setSelectionRange(e,e)}arrowLeft(){this.node.selectionStart=Math.max(0,this.node.selectionStart-1),this.node.selectionEnd=this.node.selectionStart}arrowUp(){const{beforeCursor:e,afterCursor:t}=this.getCursorData();let{cursorStart:r}=this.getCursorData();this.node.value=`${e}↑${t}`,r+=1,this.node.setSelectionRange(r,r)}arrowDown(){const{beforeCursor:e,afterCursor:t}=this.getCursorData();let{cursorStart:r}=this.getCursorData();this.node.value=`${e}↓${t}`,r+=1,this.node.setSelectionRange(r,r)}select(e){let{cursorStart:t,cursorEnd:r}=this.getCursorData();r===t&&(this.selectDirection=e),this.selectDirection===e?e?(r+=1,this.node.setSelectionRange(t,r)):t>0&&(t-=1,this.node.setSelectionRange(t,r)):r>t&&(e?(t+=1,this.node.setSelectionRange(t,r)):(r-=1,this.node.setSelectionRange(t,r)))}selectAll(){this.node.select()}copy(){const{cursorStart:e,cursorEnd:t}=this.getCursorData();if(e===t)return null;const{value:r}=this.node;return r.slice(e,t)}cut(){const{cursorStart:e}=this.getCursorData(),{cursorEnd:t,beforeCursor:r,afterCursor:s}=this.getCursorData();if(e===t)return null;const{value:n}=this.node,o=n.slice(e,t);return this.node.value=r+s,this.node.setSelectionRange(e,e),o}paste(e){const{beforeCursor:t,afterCursor:r}=this.getCursorData();let{cursorStart:s}=this.getCursorData();e&&(this.node.value=t+e+r,s+=e.length,this.node.setSelectionRange(s,s))}}new class extends w{constructor(e){super(e,"section","virtual-keyboard"),this.isCaps=!1,this.isShift=!1,this.isCtrl=!1,this.isAlt=!1,this.pressedKeys=new Set}getLang(){localStorage.getItem("lang")?this.lang=localStorage.getItem("lang"):this.lang="en",this.renderKeyboard()}renderKeyboard(){const e=new w(this.node,"div","vr-keyboard");this.title=new w(e.node,"h1","title"),"en"===this.lang?this.title.node.textContent="Virtual keyboard for RSSchool!":this.title.node.textContent="Виртуальная клавиатура для RSSchool!";const t=new w(e.node,"div","textarea-wrapper");this.textArea=new v(t.node,"textarea"),this.keyboard=new k(e.node,"wrapper",this.lang),this.description=new w(e.node,"p","description"),this.description2=new w(e.node,"p","description"),"en"===this.lang?(this.description.node.textContent="The virtual keyboard is developed in JavaScript for Windows OS. Compatible with Google Chrome browser.",this.description2.node.textContent="To switch the language layout, use the combination: Shift + Alt."):(this.description.node.textContent="Виртуальная клавиатура разработанная на JavaScript OS Windows. Совместима с браузером Google Chrome.",this.description2.node.textContent="Для переключения раскладки языка комбинация: Shift+Alt."),this.node.focus(),window.onblur=()=>{this.resetKeyboard()},this.node.onkeydown=e=>{this.keyboard.setPressKey(e),this.handlePressEvent(e)},this.node.onkeyup=e=>{let t;if(this.pressedKeys.forEach((r=>{r.code===e.code&&(t=r,this.pressedKeys.delete(r))})),!e.code.match(/Caps/))return e.code.match(/Shift/)?(this.isShift=!1,this.keyboard.offMark(t),this.pressedKeys.forEach((e=>{e.code.match(/Shift/)&&(this.isShift=!0)})),void(this.isShift||this.keyboard.onShift(this.isShift))):e.code.match(/Control/)?(this.isCtrl=!1,this.keyboard.offMark(t),void this.pressedKeys.forEach((e=>{e.code.match(/Control/)&&(this.isCtrl=!0)}))):e.code.match(/Alt/)?(this.isAlt=!1,this.keyboard.offMark(t),void this.pressedKeys.forEach((e=>{e.code.match(/Alt/)&&(this.isAlt=!0)}))):void(t&&this.keyboard.offMark(t))},this.node.onmousedown=e=>{this.handlePressEvent(e)},window.onmouseup=()=>{if(this.pressKey){if(this.pressKey.code.match(/Shift/))return;if(this.pressKey.code.match(/Caps/))return;if(this.pressKey.code.match(/Control/))return;if(this.pressKey.code.match(/Alt/))return;this.pressedKeys.delete(this.pressKey),this.textArea.node.focus(),this.keyboard.offMark(this.pressKey)}}}handlePressEvent(e){if(this.pressKey=this.keyboard.getPressKey(),this.pressKey){if(e.preventDefault(),this.pressKey.code.match(/Shift/))return void this.shift();if(this.pressKey.code.match(/Control/))return void this.ctrl();if(this.pressKey.code.match(/Alt/))return void(this.alt()&&this.checkCombs(e));if(this.pressKey.code.match(/Caps/))return void this.caps();if(this.checkCombs(e))return;this.pressKey.getSymbol&&this.symbol(),this.pressKey.code.match(/Backspace/)&&this.backspace(),this.pressKey.code.match(/Delete/)&&this.delete(),this.pressKey.code.match(/Tab/)&&this.tab(),this.pressKey.code.match(/Enter/)&&this.enter(),this.pressKey.code.match(/Space/)&&this.space(),this.pressKey.code.match(/Arrow/)&&this.arrow(),this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey)}}handleUnpressEvent(e){e.type.match(/mouse/)&&(this.pressedKeys.delete(this.pressKey),setTimeout((()=>{this.keyboard.offMark(this.pressKey)}),100))}checkCombs(e){if(this.isShift&&this.pressKey.code.match(/Alt/))return this.switchLang(),this.rename(),this.handleUnpressEvent(e),!0;if(this.isCtrl){if(this.pressKey.code.match(/KeyA/))return this.textArea.node.focus(),this.textArea.selectAll(),this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey),this.handleUnpressEvent(e),!0;if(this.pressKey.code.match(/KeyC/))return this.buffer=this.textArea.copy(),this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey),this.handleUnpressEvent(e),!0;if(this.pressKey.code.match(/KeyX/))return this.textArea.node.focus(),this.buffer=this.textArea.cut(),this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey),this.handleUnpressEvent(e),!0;if(this.pressKey.code.match(/KeyV/))return this.textArea.paste(this.buffer),this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey),this.handleUnpressEvent(e),!0}return!1}shift(){this.isShift?this.pressedKeys.has(this.pressKey)?(this.pressedKeys.delete(this.pressKey),this.keyboard.offMark(this.pressKey),this.isShift=!1,this.pressedKeys.forEach((e=>{e.code.match(/Shift/)&&(this.isShift=!0)})),this.isShift||this.keyboard.onShift(this.isShift)):(this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey)):(this.isShift=!this.isShift,this.pressedKeys.add(this.pressKey),this.keyboard.onShift(this.isShift),this.keyboard.onMark(this.pressKey))}ctrl(){this.isCtrl?this.pressedKeys.has(this.pressKey)?(this.pressedKeys.delete(this.pressKey),this.keyboard.offMark(this.pressKey),this.isCtrl=!1,this.pressedKeys.forEach((e=>{e.code.match(/Control/)&&(this.isCtrl=!0)}))):(this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey)):(this.isCtrl=!this.isCtrl,this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey))}alt(){if(this.isAlt){if(this.pressedKeys.has(this.pressKey))return this.pressedKeys.delete(this.pressKey),this.keyboard.offMark(this.pressKey),this.isAlt=!1,this.pressedKeys.forEach((e=>{e.code.match(/Alt/)&&(this.isAlt=!0)})),!1;this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey)}else this.isAlt=!this.isAlt,this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey);return!0}caps(){this.isCaps?(this.pressedKeys.delete(this.pressKey),this.keyboard.offMark(this.pressKey)):(this.pressedKeys.add(this.pressKey),this.keyboard.onMark(this.pressKey)),this.isCaps=!this.isCaps,this.keyboard.onCapsLock(this.isCaps)}symbol(){const e=this.pressKey.getSymbol();this.textArea.printSymbol(e)}backspace(){this.textArea.backspace()}delete(){this.textArea.delete()}tab(){this.textArea.tab()}space(){this.textArea.space()}enter(){this.textArea.enter()}arrow(){this.pressKey.code.match(/Right/)?this.isShift?(this.isRightDirection=!0,this.textArea.select(this.isRightDirection)):this.textArea.arrowRight():this.pressKey.code.match(/Left/)?this.isShift?(this.isRightDirection=!1,this.textArea.select(this.isRightDirection)):this.textArea.arrowLeft():this.pressKey.code.match(/Up/)?this.isShift?(this.isRightDirection=!1,this.textArea.select(this.isRightDirection)):this.textArea.arrowUp():this.pressKey.code.match(/Down/)&&this.textArea.arrowDown()}switchLang(){"en"===this.lang?this.lang="ru":this.lang="en",localStorage.setItem("lang",this.lang),this.keyboard.switchLang(this.lang)}rename(){"en"===this.lang?(this.title.node.textContent="Virtual keyboard for RSSchool!",this.description.node.textContent="The virtual keyboard is developed in JavaScript for Windows OS. Compatible with Google Chrome browser.",this.description2.node.textContent="To switch the language layout, use the combination: Shift + Alt."):(this.title.node.textContent="Виртуальная клавиатура для RSSchool!",this.description.node.textContent="Виртуальная клавиатура разработанная на JavaScript OS Windows. Совместима с браузером Google Chrome.",this.description2.node.textContent="Для переключения раскладки языка комбинация: Shift+Alt.")}resetKeyboard(){this.resetKeys({isAlt:this.isAlt,isShift:this.isShift,isCtrl:this.isCtrl}),this.keyboard.resetKeyboard()}resetKeys(){this.pressedKeys.forEach((e=>{this.pressedKeys.delete(e)})),this.isAlt&&(this.isAlt=!1),this.isShift&&(this.isShift=!1,this.keyboard.onShift(this.isShift)),this.isCaps&&(this.isCaps=!1,this.keyboard.onCapsLock(this.isShift)),this.isCtrl&&(this.isCtrl=!1)}}(document.body).getLang()})()})();